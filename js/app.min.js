(()=>{"use strict";const e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const s=t.getAttribute("href");document.querySelector(s).scrollIntoView({behavior:"smooth",block:"start"})}));const t=document.querySelector(".go-up"),s=document.querySelector(".sidebar");window.addEventListener("scroll",(()=>{pageYOffset>200?t.classList.add("active"):t.classList.remove("active"),s&&s.classList.contains("hide")&&s.classList.remove("hide")})),s&&window.innerWidth<1200&&window.innerWidth>992&&setTimeout((()=>{s.classList.contains("hide")&&s.classList.remove("hide")}),1500);const o="select_show",l="select__option_selected",c=".select_show",i=".select__option_selected";class a{constructor(e,t){this._elRoot="string"==typeof e?document.querySelector(e):e,this._params=t||{},this._params.options&&(this._elRoot.classList.add("select"),this._elRoot.innerHTML=a.template(this._params)),this._elToggle=this._elRoot.querySelector('[data-select="toggle"]'),this._elRoot.addEventListener("click",this._onClick.bind(this))}_onClick(e){const t=e.target;switch(t.closest("[data-select]").dataset.select){case"toggle":this.toggle();break;case"option":this._changeValue(t)}}_update(e){e=e.closest(".select__option");const t=this._elRoot.querySelector(i);return t&&t.classList.remove(l),e.classList.add(l),this._elToggle.textContent=e.textContent,this._elToggle.value=e.dataset.value,this._elToggle.dataset.index=e.dataset.index,this._elRoot.dispatchEvent(new CustomEvent("select.change")),this._params.onSelected&&this._params.onSelected(this,e),e.dataset.value}_reset(){const e=this._elRoot.querySelector(i);return e&&e.classList.remove(l),this._elToggle.textContent="Выберите из списка",this._elToggle.value="",this._elToggle.dataset.index=-1,this._elRoot.dispatchEvent(new CustomEvent("select.change")),this._params.onSelected&&this._params.onSelected(this,null),""}_changeValue(e){e.classList.contains(l)||(this._update(e),this.hide())}show(){document.querySelectorAll(c).forEach((e=>{e.classList.remove(o)})),this._elRoot.classList.add(o)}hide(){this._elRoot.classList.remove(o)}toggle(){this._elRoot.classList.contains(o)?this.hide():this.show()}dispose(){this._elRoot.removeEventListener("click",this._onClick)}get value(){return this._elToggle.value}set value(e){let t=!1;if(this._elRoot.querySelectorAll(".select__option").forEach((s=>{if(s.dataset.value===e)return t=!0,this._update(s)})),!t)return this._reset()}get selectedIndex(){return this._elToggle.dataset.index}set selectedIndex(e){const t=this._elRoot.querySelector(`.select__option[data-index="${e}"]`);return t?this._update(t):this._reset()}}a.template=e=>{const t=e.name,s=e.options,o=e.targetValue;let l=[],c=-1,i="",a="Выберите из списка";return s.forEach(((e,t)=>{let s="";e[0]===o&&(s=" select__option_selected",c=t,i=e[0],a=e[1]),l.push(`<li class="select__option${s}" data-select="option" data-value="${e[0]}" data-index="${t}">${e[1]}</li>`)})),`<button type="button" class="select__toggle" name="${t}" value="${i}" data-select="toggle" data-index="${c}">${a}</button>\n  <div class="select__dropdown">\n    <ul class="select__options">${l.join("")}</ul>\n  </div>`},document.addEventListener("click",(e=>{e.target.closest(".select")||document.querySelectorAll(c).forEach((e=>{e.classList.remove(o)}))}));const n=document.querySelectorAll(".select");let r=[];n.forEach(((e,t)=>{r[t]=new a(e)}));const d=document.querySelector(".select__toggle"),h=document.querySelectorAll(".item-portfolio");h.forEach((e=>{e.classList.add("hide")})),d&&document.querySelectorAll(".select__option").forEach((e=>{e.addEventListener("click",(()=>{setTimeout((()=>{h.forEach((e=>{e.classList.remove("hide")}));const e=d.value.split("-")[1];d.value==`filter-${e}`&&h.forEach((t=>{t.classList.contains(`${e}`)&&t.classList.add("hide"),t.classList.add("active")})),"filter-all"==d.value&&h.forEach((e=>{e.classList.add("hide")}))}),1)}))})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.querySelectorAll(".contact__link").forEach((e=>{e.style.width=`${e.querySelector(".link").offsetWidth+90}px`}));const u=document.querySelector(".email"),_=document.querySelector(".copy");u&&_&&u.addEventListener("click",(()=>{navigator.clipboard.writeText(u.querySelector(".link").innerHTML),_.classList.add("active"),setTimeout((()=>{_.classList.remove("active")}),1e3)})),document.querySelectorAll(".language-block__link").forEach((e=>{e.addEventListener("click",(t=>{e.classList.contains("active-page")&&t.preventDefault()}))}))})();